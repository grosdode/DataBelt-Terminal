/*Copyright (c) 2014 Project Nayuki; http://www.nayuki.io/page/free-small-fft-in-multiple-languages; (MIT License); Slightly restructured by Chris Cannam, cannam@all-day-breakfast.com*/
"use strict";function FFTNayuki(s){this.n=s,this.levels=-1;for(var i=0;i<32;i++)1<<i==s&&(this.levels=i);if(-1==this.levels)throw"Length is not a power of 2";this.cosTable=new Array(s/2),this.sinTable=new Array(s/2);for(i=0;i<s/2;i++)this.cosTable[i]=Math.cos(2*Math.PI*i/s),this.sinTable[i]=Math.sin(2*Math.PI*i/s);this.forward=function(s,i){function r(s,i){for(var r=0,t=0;t<i;t++)r=r<<1|1&s,s>>>=1;return r}for(var t=this.n,a=0;a<t;a++){var e=r(a,this.levels);if(e>a){var h=s[a];s[a]=s[e],s[e]=h,h=i[a],i[a]=i[e],i[e]=h}}for(var o=2;o<=t;o*=2){var n=o/2,f=t/o;for(a=0;a<t;a+=o){e=a;for(var l=0;e<a+n;e++,l+=f){var v=s[e+n]*this.cosTable[l]+i[e+n]*this.sinTable[l],c=-s[e+n]*this.sinTable[l]+i[e+n]*this.cosTable[l];s[e+n]=s[e]-v,i[e+n]=i[e]-c,s[e]+=v,i[e]+=c}}}},this.inverse=function(s,i){forward(i,s)}}